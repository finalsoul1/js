<!DOCTYPE html>
<html lang="en" dir="ltr">

<head>
  <meta charset="utf-8">
  <title></title>
</head>

<body>
  <p onclick='btnClick()'>111</p>
  <button type="button" data-action="highlight">222</button>
  <br>
  <textarea name="name" rows="5" cols="20" onkeyup="myKeyup(this)">초기값</textarea>

  <script type="text/javascript">
    
    // this는 textarea 참조값을 넘겨줌
    function myKeyup(elem) {
      console.log(elem.value);
    }

       // 클릭 이벤트 표현 3가지
    // function btnClick() {
    //   alert('1');
    // }
    // 
    // document.getElementsByTagName('button')[0].onclick = function () {
    //   alert(2);
    // };
    // 
       // 이 표현을 추천함. 이벤트가 문자열이라 동적이라서.
    // document.getElementsByTagName('button')[0].addEventListener('click', function() {
    //   alert(3);
    // });
  
    const highlightActions = document.querySelectorAll('[data-action="highlight"]');
    
    for (let a of highlightActions) {
      
      // 로직은 우리가 작성하지만 그 함수 호출은 사용자가 하는 것이 event
      // a.addEventListener('click', function (event) {
      //   console.log(event);
      //   evt.preventDefault();
      //   highlightParas(a.dataset.containing);
      // });
      b
      a.
      ('click', evt => {  // 화살표함수가 메모리 덜 먹음
        console.log(event);
        evt.preventDefault();
        highlightParas(a.dataset.containing);
      });
    }
    
    const removeHighlightActions =
      document.querySelectorAll('[data-action="removeHighlights"]');
      
    for (let a of removeHighlightActions) {
      a.addEventListener('click', evt => {
        evt.preventDefault();
        removeParaHighlights();
      });
    }
    
  </script>

</body>

</html>