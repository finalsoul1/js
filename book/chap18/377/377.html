<!DOCTYPE html>
<html lang="en" dir="ltr">

<head>
  <meta charset="utf-8">
  <title></title>
  <style media="screen">
    .highlight {
      background: #ff0;
      font-style: italic;
    }
  </style>
</head>

<body>

 <p>111</p>
 <p>222 unique</p>
 <p>333</p>



  <script type="text/javascript">
    function highlightParas(containing) {
      if (typeof containing === 'string') // 방어코딩
      
        // 동적으로 받은 파라미터인 문자열을 사용하여
        // 정규표현식을 적용하기 위해서 new RegExp() 방식으로 처리한다.
        // hi xhix xxxhi
        // \\b : p363 참조
        containing = new RegExp(`\\b${containing}\\b`, 'i');
        
      const paras = document.getElementsByTagName('p');
      console.log(paras);
      
      for (let p of paras) {
        // 정규표현식.test = true, false
        if (!containing.test(p.textContent)) continue; 
        // continue: 밑에 수행하지말고 다음바퀴
        p.classList.add('highlight');
      }
    }
    highlightParas('unique');

    function removeParaHighlights() {
      const paras = document.querySelectorAll('p.highlight');
      for (let p of paras) {
        p.classList.remove('highlight');
      }
    }
  </script>

</body>

</html>